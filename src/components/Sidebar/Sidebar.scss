@import url('https://fonts.googleapis.com/css?family=Questrial&display=swap');

$sfFont: 'Questrial';

html, body {
  width: 100%;
  height: 100vh;
  margin: 0;
  font-family: $sfFont, -apple-system, BlinkMacSystemFont, Helvetica, sans-serif;
  text-align: center;
  background-image: url('https://picsum.photos/id/1042/3456/5184');
  background-size: cover;
}

.navigation {
  $dimen: 290px;

  nav {
    position: fixed;
    top: 0;
    left: -$dimen;
    bottom: 0;
    width: $dimen;
    height: 100%;
    padding: 75px 10px;
    background: rgba(238, 238, 238, 0.9); // Adjusted transparency
    transition: left .6s ease;
    z-index: 99;

    &.navigation--active {
      left: 0;
    }

    .navigation__brand {
      margin: 20px auto 35px;
      font-size: 85%;
    }

    ul {
      list-style: none;
      margin: 0;
      padding: 0;

      li {
        margin: 10px auto;
        position: relative;

        &.has-submenu {
          .submenu {
            display: none;
            position: absolute;
            left: 100%;
            top: 0;
            width: 200px;
            padding: 0;
            background: rgba(238, 238, 238, 0.9);
            list-style: none;
            margin: 0;
            z-index: 100;

            li {
              margin: 0;
              padding: 10px;

              a {
                color: #333;
                font-weight: normal;
                text-decoration: none;

                &:hover {
                  color: #0099ff;
                }
              }
            }
          }

          &:hover .submenu {
            display: block;
          }
        }

        a {
          font-weight: bold;
          text-decoration: none;
          color: #333;

          &::before, &::after {
            font-weight: 100 !important;
            font-size: 100%;
            color: #0099ff;
            margin: 0 -5px;
            opacity: 0;
            transition: all .3s ease;
          }

          &::before {
            content: '[';
          }

          &::after {
            content: ']';
          }

          &:hover::before, &:hover::after {
            margin: 0 5px;
            opacity: 1;
          }
        }
      }
    }
  }
}

.navigation__toggle {
  position: absolute;
  top: 20px;
  left: 20px;
  z-index: 100;
}

.navigation__icon {
  $transform-time: .33s;
  $burger-dimen: 33px;
  $burger-color: #ffffff;
  $__scale: .66;
  $__rotate: 180deg;
  $__border-radius: .1*$burger-dimen;

  position: relative;
  width: $burger-dimen;
  height: $__scale*$burger-dimen;
  cursor: pointer;
  transition: all $transform-time ease-in;

  span {
    display: block;
    position: absolute;
    width: 100%;
    height: $burger-dimen/10;
    top: 50%;
    left: 0;
    background: $burger-color;
    border-radius: $__border-radius;
    transition: all $transform-time ease-in;
  }

  span::after, span::before {
    content: '';
    position: absolute;
    background: $burger-color;
    border-radius: $__border-radius;
    width: 75%;
    height: 100%;
    left: 0;
    transition: all $transform-time ease-in;
  }

  span::before {
    transform: translateY(-6*$burger-dimen/20);
  }

  span::after {
    transform: translateY(6*$burger-dimen/20);
  }

  &.transformed {
    transform: rotate($__rotate);
    span {
      background: #333;
    }
  }

  &.transformed span::before {
    transform: translateY(-$burger-dimen/5)
               translateX(6*$burger-dimen/20)
               rotate($__rotate/4)
               scaleX($__scale);
    background: #333;
    width: 100%;
  }

  &.transformed span::after {
    transform: translateY($burger-dimen/5)
               translateX(6*$burger-dimen/20)
               rotate(-$__rotate/4)
               scaleX($__scale);
    background: #333;
    width: 100%;
  }
}
